An EventMachine daemon for rotating and submitting mail spools to an application for processing.

Calling:
  bundle exec ./mailroomd /path/to/your/mailspool [/paths/to/your/other/mailspools ...]

  To set log level, set LOG_LEVEL environment variable like so:
  LOG_LEVEL=DEBUG bundle exec ./mailroomd ...

Events:
  1. Timer tick -> acquire lock
  2. Lock acquired -> move file
  3. File moved -> transfer to s3, restart timer
  4. Transfered to s3 -> Post to API
  5. Posted to API -> log

Signals:
  INT - Immediate stop
  TERM - Graceful exit.  Finish created snapshots and exit

To Do:
  - Make sure locking/moving is enough to safely move files
    - Make sure file is not cut in mid-message
    - Make sure postfix does not continue to write to the moved file
  - Allow config location to passed as an argument
  - Don't take new snapshots after TERM (Will currently take one last snapshot)
  - Environments?
    - Make Hoptoad automatically not send in development
    - Change default log level?
  - Make Hoptoad dependency optional
